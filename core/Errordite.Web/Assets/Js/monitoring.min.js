(function(){jQuery(function(){var a,c,b;a=$("section#monitoring");if(a.length>0){$("th :checkbox").on("click",function(){$(this).closest("table").find("td :checkbox").prop("checked",$(this).is(":checked"));return b.maybeEnableActions()});a.delegate("a.purge","click",function(f){var d;f.preventDefault();d=$(this);if(!confirm("Are you sure you want to delete all messages?")){return false}return serviceManager.deleteMessages(d.data("service"))});a.delegate("a.retry","click",function(f){var d;f.preventDefault();d=$(this);if(!confirm("Are you sure you want to retry all messages?")){return false}return serviceManager.returnToSource(d.data("service"))});c=(function(){function d(){}d.prototype.deleteMessages=function(){var e;e=function(f){};$.ajax({url:"/system/services/deletemessages",data:{instanceId:$("select#RavenInstanceId").val(),serviceName:serviceName},success:function(f){if(f.success){location.reload()}else{return Errordite.Alert.show("Failed to delete messages, please try again.")}return true},error:function(){return alert("Failed to delete messages, please try again.")},dataType:"json",type:"POST"});return true};d.prototype.retryMessages=function(e){$.ajax({url:"/system/services/returntosource",data:{instanceId:$("select#RavenInstanceId").val(),serviceName:e},success:function(f){if(f.success){location.reload()}else{Errordite.Alert.show("Failed to return error messages to their source queue, please try again.")}return true},error:function(){return Errordite.Alert.show("Failed to return error messages to their source queue, please try again.")},dataType:"json",type:"POST"});return true};d.prototype.maybeEnableActions=function(){$("ul#action-list").toggle(!!$(":checkbox:checked[name=envelopes]").length);return true};return d})();b=new c();b.maybeEnableActions();return true}})}).call(this);